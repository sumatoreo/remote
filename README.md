# Первоначальная настройка

## Скрипт настройки

Запустите `configure.sh`, который настроит сертификаты для работы с https на локальной машине.

Для того чтобы сертификат воспринимался как доверенный, нужно его добавить в список доверенных.

Пример для MacOS
https://support.securly.com/hc/en-us/articles/206058318-How-to-install-the-Securly-SSL-certificate-on-Mac-OSX-

## .env конфигурация Laralvel (Lumen)

Для работы с проброшенными портами, нужно сделать замену ip адреса
`127.0.0.1` на `host.docker.internal`

Для того чтобы заработал Redis нужно прописать имя контейнера
```
REDIS_HOST=redis
```

## Добавление домена

В глобальный систменый файл `hosts` необходимо прописать

```
127.0.0.1       mobile.app
```

## Путь к проекту

По умолчанию путь к проекту указан в файле `.env`, если он отличается, то нужно прописать свой

# Сборка и запуск

## Cборка контейнера

Для начала нужно собрать контейнеры из образа

`docker-compose build --parallel`

## Запуск докер контейнеров

Для того чтобы все заработало нужно правильно настроить проброс портов

`docker-compose up -d`

Если не были собраны пакеты нужно их собрать

`./composer install`

## Проверка работоспособоности

`curl -L -X GET http://mobile.app/api/stories`

Должен придти ответ в виде json данных